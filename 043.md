Saeedalipoor01988

high

# JOJOExternal.sol#L103.approveTrade do not have any slippage protection

## Summary
JOJOExternal.sol#L103.approveTrade does not have any slippage protection.

## Vulnerability Detail
There is no slippage protection and the minimum output amount, meaning orders allow unlimited slippage, meaning the user may get much less than they deserve. 

```solidity
 struct Order {
        // address of perpetual market
        address perp;
        /*
            Signer is trader, the identity of trading behavior,
            whose balance will be changed.
            Normally it should be an EOA account and the 
            order is valid only if the signer signed it.
            If the signer is a contract, it must implement
            isValidPerpetualOperator(address) returns(bool).
            The order is valid only if one of the valid operators
            is an EOA account and signed the order.
        */
        address signer;
        // positive(negative) if you want to open long(short) position
        int128 paperAmount;
        // negative(positive) if you want to open long(short) position
        int128 creditAmount;
        /*
            ╔═══════════════════╤═════════╗
            ║ info component    │ type    ║
            ╟───────────────────┼─────────╢
            ║ makerFeeRate      │ int64   ║
            ║ takerFeeRate      │ int64   ║
            ║ expiration        │ uint64  ║
            ║ nonce             │ uint64  ║
            ╚═══════════════════╧═════════╝
        */
        bytes32 info;
    }
```

## Impact
check Vulnerability Detail.

## Code Snippet
https://github.com/sherlock-audit/2023-04-jojo/blob/main/smart-contract-EVM/contracts/impl/JOJOExternal.sol#L103
https://github.com/sherlock-audit/2023-04-jojo/blob/main/smart-contract-EVM/contracts/lib/Types.sol#L49

## Tool used
Manual Review

## Recommendation
Introduce a PRICE_IMPACT_FACTOR and add slippage protection for user orders.